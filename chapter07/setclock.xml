<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE section [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>
<section xmlns="http://docbook.org/docbook-ng"
         xmlns:xlink="http://www.w3.org/1999/xlink"
         xml:id="ch-scripts-setclock">
<title>Configuring the setclock script</title>
<?dbhtml filename="setclock.html"?>

<indexterm zone="ch-scripts-setclock">
<primary sortas="d-setclock">setclock</primary>
<secondary>configuring</secondary></indexterm>

<para>This <command>setclock</command> script reads the time from your hardware clock, also
known as BIOS or CMOS (Complementry Metal-Oxide Semiconductor) clock, and either converts that time to localtime
using the <filename>/etc/localtime</filename> file (if the hardware clock
is set to GMT) or not (if the hardware clock is already set to localtime).
There is no way to auto-detect whether the hardware clock is set to GMT or
not, so we need to configure that here ourselves.</para>

<para>Change the value of the <emphasis>UTC</emphasis> variable below to a
<parameter>0</parameter> (zero) if your hardware clock is not set to GMT
time.</para>

<para>Create a new file <filename>/etc/sysconfig/clock</filename> by running
the following:</para>

<screen><userinput>cat &gt; /etc/sysconfig/clock &lt;&lt; "EOF"
# Begin /etc/sysconfig/clock

UTC=1

# End /etc/sysconfig/clock
EOF</userinput></screen>

<para>Now, you may want to take a look at a very good hint explaining how we
deal with time on LFS at <link xlink:href="&hints-root;time.txt"/>. 
It explains issues such as time zones, UTC, and the TZ environment
variable.</para>

</section>
