<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>
<sect1 id="ch-scripts-bootscripts" xreflabel="Bootscripts" role="wrap">
<title>LFS-Bootscripts-&bootscripts-version;</title>
<?dbhtml filename="bootscripts.html"?>

<indexterm zone="ch-scripts-bootscripts"><primary sortas="a-Bootscripts">Bootscripts</primary></indexterm>

<sect2 role="package"><title/>
<para>The LFS-Bootscripts package contains a set of bootscripts.</para>

<segmentedlist>
<segtitle>&buildtime;</segtitle>
<segtitle>&diskspace;</segtitle>
<seglistitem><seg>0.1 SBU</seg><seg>0.3 MB</seg></seglistitem>
</segmentedlist>

<segmentedlist>
<segtitle>LFS-Bootscripts installation depends on</segtitle>
<seglistitem><seg>Bash, Coreutils</seg></seglistitem>
</segmentedlist>
</sect2>

<sect2 role="installation">
<title>Installation of LFS-Bootscripts</title>

<para>Installation of the bootscripts is very simple:</para>

<screen><userinput>make install</userinput></screen>

<para>Since this version of LFS also uses the hotplug and syslog-ng packages, 
we also want to make sure we install the bootscripts for those as well:</para>

<screen><userinput>make install-hotplug
make install-syslog-ng</userinput></screen>

</sect2>


<sect2 id="contents-bootscripts" role="content"><title>Contents of LFS-bootscripts</title>

<segmentedlist>
<segtitle>Installed scripts</segtitle>
<seglistitem><seg>checkfs, cleanfs, console, functions, halt, ifdown, ifup,
localnet, mountfs, mountkernfs, network, rc, reboot, sendsignals, setclock, static, 
swap, sysklogd and template</seg></seglistitem>
</segmentedlist>

<variablelist><title>Short descriptions</title>

<varlistentry id="checkfs-bootscripts">
<term><command>checkfs</command></term>
<listitem>
<indexterm zone="ch-scripts-bootscripts checkfs-bootscripts"><primary sortas="d-checkfs">checkfs</primary></indexterm>
<para>checks the file systems just before they are mounted (with the exception of journal 
and network based file systems).</para>
</listitem>
</varlistentry>

<varlistentry id="cleanfs-bootscripts">
<term><command>cleanfs</command></term>
<listitem>
<indexterm zone="ch-scripts-bootscripts cleanfs-bootscripts"><primary sortas="d-cleanfs">cleanfs</primary></indexterm>
<para>removes files that shouldn't be
preserved between reboots, such as those in <filename class="directory">/var/run/</filename> and
<filename class="directory">/var/lock/</filename>. It re-creates <filename>/var/run/utmp</filename>
and removes the possibly present <filename>/etc/nologin</filename>,
<filename>/fastboot</filename> and <filename>/forcefsck</filename> files.</para>
</listitem>
</varlistentry>

<varlistentry id="console-bootscripts">
<term><command>console</command></term>
<listitem>
<indexterm zone="ch-scripts-bootscripts console-bootscripts"><primary sortas="d-console">console</primary></indexterm>
<para>loads the keymap table you specified as proper for your keyboard layout.
It also sets the screen font.</para>
</listitem>
</varlistentry>

<varlistentry id="functions-bootscripts">
<term><command>functions</command></term>
<listitem>
<indexterm zone="ch-scripts-bootscripts functions-bootscripts"><primary sortas="d-functions">functions</primary></indexterm>
<para>contains functions shared among
different scripts, such as error and status checking.</para>
</listitem>
</varlistentry>

<varlistentry id="halt-bootscripts">
<term><command>halt</command></term>
<listitem>
<indexterm zone="ch-scripts-bootscripts halt-bootscripts"><primary sortas="d-halt">halt</primary></indexterm>
<para>halts the system.</para>
</listitem>
</varlistentry>

<varlistentry id="ifdown-bootscripts">
<term><command>ifdown</command> and <command>ifup</command></term>
<listitem>
<indexterm zone="ch-scripts-bootscripts ifdown-bootscripts"><primary sortas="d-ifdown">ifdown</primary></indexterm>
<para>assist the network script with network devices.</para>
</listitem>
</varlistentry>

<varlistentry id="localnet-bootscripts">
<term><command>localnet</command></term>
<listitem>
<indexterm zone="ch-scripts-bootscripts localnet-bootscripts"><primary sortas="d-localnet">localnet</primary></indexterm>
<para>sets up the system's hostname and local loopback device.</para>
</listitem>
</varlistentry>

<varlistentry id="mountfs-bootscripts">
<term><command>mountfs</command></term>
<listitem>
<indexterm zone="ch-scripts-bootscripts mountfs-bootscripts"><primary sortas="d-mountfs">mountfs</primary></indexterm>
<para>mounts all file systems that
aren't marked <emphasis>noauto</emphasis> or aren't network based.</para>
</listitem>
</varlistentry>

<varlistentry id="mountkernfs-bootscripts">
<term><command>mountkernfs</command></term>
<listitem>
<indexterm zone="ch-scripts-bootscripts mountkernfs-bootscripts"><primary sortas="d-mountkernfs">mountkernfs</primary></indexterm>
<para>is used to mount kernel-provided file systems, such as <systemitem class="filesystem">proc</systemitem>.</para>
</listitem>
</varlistentry>

<varlistentry id="network-bootscripts">
<term><command>network</command></term>
<listitem>
<indexterm zone="ch-scripts-bootscripts network-bootscripts"><primary sortas="d-network">network</primary></indexterm>
<para>sets up network interfaces, such
as network cards, and sets up the default gateway where applicable.</para>
</listitem>
</varlistentry>

<varlistentry id="rc-bootscripts">
<term><command>rc</command></term>
<listitem>
<indexterm zone="ch-scripts-bootscripts rc-bootscripts"><primary sortas="d-rc">rc</primary></indexterm>
<para>is the master run-level control script.
It is responsible for running all the other scripts one-by-one, in a sequence
determined by the name of the symbolic links being processed.</para>
</listitem>
</varlistentry>

<varlistentry id="reboot-bootscripts">
<term><command>reboot</command></term>
<listitem>
<indexterm zone="ch-scripts-bootscripts reboot-bootscripts"><primary sortas="d-reboot">reboot</primary></indexterm>
<para>reboots the system.</para>
</listitem>
</varlistentry>

<varlistentry id="sendsignals-bootscripts">
<term><command>sendsignals</command></term>
<listitem>
<indexterm zone="ch-scripts-bootscripts sendsignals-bootscripts"><primary sortas="d-sendsignals">sendsignals</primary></indexterm>
<para>makes sure every process is terminated before the system reboots or halts.</para>
</listitem>
</varlistentry>

<varlistentry id="setclock-bootscripts">
<term><command>setclock</command></term>
<listitem>
<indexterm zone="ch-scripts-bootscripts setclock-bootscripts"><primary sortas="d-setclock">setclock</primary></indexterm>
<para>resets the kernel clock to
localtime in case the hardware clock isn't set to GMT time.</para>
</listitem>
</varlistentry>

<varlistentry id="static-bootscripts">
<term><command>static</command></term>
<listitem>
<indexterm zone="ch-scripts-bootscripts static-bootscripts"><primary sortas="d-static">static</primary></indexterm>
<para>provides the functionality needed
to assign a static IP address to a network interface.</para>
</listitem>
</varlistentry>

<varlistentry id="swap-bootscripts">
<term><command>swap</command></term>
<listitem>
<indexterm zone="ch-scripts-bootscripts swap-bootscripts"><primary sortas="d-swap">swap</primary></indexterm>
<para>enables and disables swap files and partitions.</para>
</listitem>
</varlistentry>

<varlistentry id="syslogng-bootscripts">
<term><command>sysklogd</command></term>
<listitem>
<indexterm zone="ch-scripts-bootscripts syslogng-bootscripts"><primary sortas="d-syslogng">syslog-ng</primary></indexterm>
<para>starts and stops the system and kernel log daemons.</para>
</listitem>
</varlistentry>

<varlistentry id="template-bootscripts">
<term><command>template</command></term>
<listitem>
<indexterm zone="ch-scripts-bootscripts template-bootscripts"><primary sortas="d-template">template</primary></indexterm>
<para>is a template you can use to
create your own bootscripts for your other daemons.</para>
</listitem>
</varlistentry>
</variablelist>

</sect2>

</sect1>
