<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE section [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>
<section xmlns="http://docbook.org/docbook-ng"
         xmlns:xlink="http://www.w3.org/1999/xlink"
         xml:id="ch-system-e2fsprogs" xreflabel="E2fsprogs" role="wrap">
<info><title>E2fsprogs-&e2fsprogs-version;</title></info>
<?dbhtml filename="e2fsprogs.html"?>

<indexterm zone="ch-system-e2fsprogs"><primary sortas="a-E2fsprogs">E2fsprogs</primary></indexterm>

<section role="package"><info><title/></info>
<para>The E2fsprogs package contains the utilities for handling the ext2
file system. It also supports the ext3 journaling file system.</para>

<segmentedlist>
<segtitle>&buildtime;</segtitle>
<segtitle>&diskspace;</segtitle>
<seglistitem><seg>0.6 SBU</seg><seg>4.9 MB</seg></seglistitem>
</segmentedlist>

<segmentedlist>
<segtitle>E2fsprogs installation depends on</segtitle>
<seglistitem><seg>Bash, Binutils, Coreutils,
Diffutils, Gawk, GCC, Gettext, Glibc, Grep, Make, Sed, Texinfo</seg></seglistitem>
</segmentedlist>
</section>

<section role="installation">
<info><title>Installation of E2fsprogs</title></info>

<para>It is recommended to build E2fsprogs in a subdirectory of the source tree:
</para>

<screen><userinput>mkdir build
cd build</userinput></screen>

<para>Prepare E2fsprogs for compilation:</para>

<screen><userinput>../configure --prefix=/usr --with-root-prefix="" \
    --enable-elf-shlibs --disable-evms</userinput></screen>

<para>The meaning of the configure options:</para>

<variablelist>
<varlistentry>
<term><parameter>--with-root-prefix=""</parameter></term>
<listitem><para>Certain programs (such as the <command>e2fsck</command> 
program) are considered essential programs.
When, for example, <filename class="directory">/usr</filename> isn't
mounted, these essential programs have to be available. They belong in
directories like <filename class="directory">/lib</filename> and
<filename class="directory">/sbin</filename>. If this option isn't passed
to E2fsprogs's configure, the programs are placed in the
<filename class="directory">/usr</filename> directory, which is not what we
want.</para></listitem>
</varlistentry>

<varlistentry>
<term><parameter>--enable-elf-shlibs</parameter></term>
<listitem><para>This creates
the shared libraries which some programs in this package use.</para></listitem>
</varlistentry>

<varlistentry>
<term><parameter>--disable-evms</parameter></term>
<listitem><para>This disables the building of the Enterprise Volume Management
System (EVMS) plugin.  This plugin is not up-to-date with the latest EVMS
internal interfaces and EVMS is not installed as part of a base LFS system, so
the plugin is not required.  See the
<uri xlink:href="http://evms.sourceforge.net/">EVMS homepage</uri> for more
information regarding EVMS itself.</para></listitem>
</varlistentry>
</variablelist>

<para>Compile the package:</para>

<screen><userinput>make</userinput></screen>

<para>To test the results, issue:
<userinput>make check</userinput>.</para>

<para>Install most of the package:</para>

<screen><userinput>make install</userinput></screen>

<para>Also install the shared libraries:</para>

<screen><userinput>make install-libs</userinput></screen>

</section>



<section xml:id="contents-e2fsprogs" role="content"><info><title>Contents of E2fsprogs</title></info>

<segmentedlist>
<segtitle>Installed programs</segtitle>
<segtitle>Installed libraries</segtitle>
<seglistitem><seg>badblocks, blkid, chattr,
compile_et, debugfs, dumpe2fs, e2fsck, e2image, e2label, findfs, fsck,
fsck.ext2, fsck.ext3, logsave, lsattr, mk_cmds, mke2fs, mkfs.ext2, mkfs.ext3,
mklost+found, resize2fs, tune2fs and uuidgen.</seg>
<seg>libblkid.[a,so], libcom_err.[a,so], libe2p.[a,so], libext2fs.[a,so], libss.[a,so] and
libuuid.[a,so]</seg></seglistitem>
</segmentedlist>

<variablelist><title>Short descriptions</title>

<varlistentry xml:id="badblocks">
<term><command>badblocks</command></term>
<listitem>
<indexterm zone="ch-system-e2fsprogs badblocks"><primary sortas="b-badblocks">badblocks</primary></indexterm>
<para>searches a device (usually a disk partition) for bad blocks.</para>
</listitem>
</varlistentry>

<varlistentry xml:id="blkid">
<term><command>blkid</command></term>
<listitem>
<indexterm zone="ch-system-e2fsprogs blkid"><primary sortas="b-blkid">blkid</primary></indexterm>
<para>is a command line utility to locate and print block device attributes.</para>
</listitem>
</varlistentry>

<varlistentry xml:id="chattr">
<term><command>chattr</command></term>
<listitem>
<indexterm zone="ch-system-e2fsprogs chattr"><primary sortas="b-chattr">chattr</primary></indexterm>
<para>changes the attributes of files on a second extended (ext2) file system, and 
also ext3 file systems, the journaling version of ext2 file systems.</para>
</listitem>
</varlistentry>

<varlistentry xml:id="compile_et">
<term><command>compile_et</command></term>
<listitem>
<indexterm zone="ch-system-e2fsprogs compile_et"><primary sortas="b-compile_et">compile_et</primary></indexterm>
<para>is an error table compiler. It
converts a table of error-code names and messages into a C source file
suitable for use with the <filename class="libraryfile">com_err</filename> library.</para>
</listitem>
</varlistentry>

<varlistentry xml:id="debugfs">
<term><command>debugfs</command></term>
<listitem>
<indexterm zone="ch-system-e2fsprogs debugfs"><primary sortas="b-debugfs">debugfs</primary></indexterm>
<para>is a file system debugger. It can be
used to examine and change the state of an ext2 file system.</para>
</listitem>
</varlistentry>

<varlistentry xml:id="dumpe2fs">
<term><command>dumpe2fs</command></term>
<listitem>
<indexterm zone="ch-system-e2fsprogs dumpe2fs"><primary sortas="b-dumpe2fs">dumpe2fs</primary></indexterm>
<para>prints the super block and blocks group
information for the file system present on a given device.</para>
</listitem>
</varlistentry>

<varlistentry xml:id="e2fsck">
<term><command>e2fsck</command></term>
<listitem>
<indexterm zone="ch-system-e2fsprogs e2fsck"><primary sortas="b-e2fsck">e2fsck</primary></indexterm>
<para>is used to check, and optionally repair,
second extended (ext2) file systems, and also ext3 file systems.</para>
</listitem>
</varlistentry>

<varlistentry xml:id="e2image">
<term><command>e2image</command></term>
<listitem>
<indexterm zone="ch-system-e2fsprogs e2image"><primary sortas="b-e2image">e2image</primary></indexterm>
<para>is used to save critical ext2 file system data to a file.</para>
</listitem>
</varlistentry>

<varlistentry xml:id="e2label">
<term><command>e2label</command></term>
<listitem>
<indexterm zone="ch-system-e2fsprogs e2label"><primary sortas="b-e2label">e2label</primary></indexterm>
<para>will display or change the file system
label on the ext2 file system present on a given device.</para>
</listitem>
</varlistentry>

<varlistentry xml:id="findfs">
<term><command>findfs</command></term>
<listitem>
<indexterm zone="ch-system-e2fsprogs findfs"><primary sortas="b-findfs">findfs</primary></indexterm>
<para>finds a file system by label or UUID (Universally Unique Identifier).</para>
</listitem>
</varlistentry>

<varlistentry xml:id="fsck">
<term><command>fsck</command></term>
<listitem>
<indexterm zone="ch-system-e2fsprogs fsck"><primary sortas="b-fsck">fsck</primary></indexterm>
<para>is used to check, and optionally repair, file systems. By default it checks the 
file systems listed in <filename>/etc/fstab</filename></para>
</listitem>
</varlistentry>

<varlistentry xml:id="logsave">
<term><command>logsave</command></term>
<listitem>
<indexterm zone="ch-system-e2fsprogs logsave"><primary sortas="b-logsave">logsave</primary></indexterm>
<para>saves the output of a command in a log file.</para>
</listitem>
</varlistentry>

<varlistentry xml:id="lsattr">
<term><command>lsattr</command></term>
<listitem>
<indexterm zone="ch-system-e2fsprogs lsattr"><primary sortas="b-lsattr">lsattr</primary></indexterm>
<para>lists the attributes of files on a second extended file system.</para>
</listitem>
</varlistentry>

<varlistentry xml:id="mk_cmds">
<term><command>mk_cmds</command></term>
<listitem>
<indexterm zone="ch-system-e2fsprogs mk_cmds"><primary sortas="b-mk_cmds">mk_cmds</primary></indexterm>
<para>converts a table of command names
and help messages into a C source file suitable for use with the
<filename class="libraryfile">libss</filename> subsystem library.</para>
</listitem>
</varlistentry>

<varlistentry xml:id="mke2fs">
<term><command>mke2fs</command></term>
<listitem>
<indexterm zone="ch-system-e2fsprogs mke2fs"><primary sortas="b-mke2fs">mke2fs</primary></indexterm>
<para>is used to create a second extended file system on the given device.</para>
</listitem>
</varlistentry>

<varlistentry xml:id="mklost-found">
<term><command>mklost+found</command></term>
<listitem>
<indexterm zone="ch-system-e2fsprogs mklost-found"><primary sortas="b-mklost+found">mklost+found</primary></indexterm>
<para>is used to create a
<filename class="directory">lost+found</filename> directory on a second extended file system.
It pre-allocates disk blocks to this directory to lighten the task of e2fsck.</para>
</listitem>
</varlistentry>

<varlistentry xml:id="resize2fs">
<term><command>resize2fs</command></term>
<listitem>
<indexterm zone="ch-system-e2fsprogs resize2fs"><primary sortas="b-resize2fs">resize2fs</primary></indexterm>
<para>can be used to enlarge or shrink an ext2 file system.</para>
</listitem>
</varlistentry>

<varlistentry xml:id="tune2fs">
<term><command>tune2fs</command></term>
<listitem>
<indexterm zone="ch-system-e2fsprogs tune2fs"><primary sortas="b-tune2fs">tune2fs</primary></indexterm>
<para>is used adjust tunable file system
parameters on a second extended file system.</para>
</listitem>
</varlistentry>

<varlistentry xml:id="uuidgen">
<term><command>uuidgen</command></term>
<listitem>
<indexterm zone="ch-system-e2fsprogs uuidgen"><primary sortas="b-uuidgen">uuidgen</primary></indexterm>
<para>creates new UUID. Each new UUID can reasonably be considered unique
among all UUIDs created, on the local system and on other systems, in the
past and in the future.</para>
</listitem>
</varlistentry>

<varlistentry xml:id="libblkid">
<term><filename class="libraryfile">libblkid</filename></term>
<listitem>
<indexterm zone="ch-system-e2fsprogs libblkid"><primary sortas="c-libblkid">libblkid</primary></indexterm>
<para>contains routines for device identification and token extraction.</para>
</listitem>
</varlistentry>

<varlistentry xml:id="libcom_err">
<term><filename class="libraryfile">libcom_err</filename></term>
<listitem>
<indexterm zone="ch-system-e2fsprogs libcom_err"><primary sortas="c-libcom_err">libcom_err</primary></indexterm>
<para>is the common error display routine.</para>
</listitem>
</varlistentry>

<varlistentry xml:id="libe2p">
<term><filename class="libraryfile">libe2p</filename></term>
<listitem>
<indexterm zone="ch-system-e2fsprogs libe2p"><primary sortas="c-libe2p">libe2p</primary></indexterm>
<para>is used by dumpe2fs, chattr, and lsattr.</para>
</listitem>
</varlistentry>

<varlistentry xml:id="libext2fs">
<term><filename class="libraryfile">libext2fs</filename></term>
<listitem>
<indexterm zone="ch-system-e2fsprogs libext2fs"><primary sortas="c-libext2fs">libext2fs</primary></indexterm>
<para>contains routines to enable user-level
programs to manipulate an ext2 file system.</para>
</listitem>
</varlistentry>

<varlistentry xml:id="libss">
<term><filename class="libraryfile">libss</filename></term>
<listitem>
<indexterm zone="ch-system-e2fsprogs libss"><primary sortas="c-libss">libss</primary></indexterm>
<para>is used by <command>debugfs</command>.</para>
</listitem>
</varlistentry>

<varlistentry xml:id="libuuid">
<term><filename class="libraryfile">libuuid</filename></term>
<listitem>
<indexterm zone="ch-system-e2fsprogs libuuid"><primary sortas="c-libuuid">libuuid</primary></indexterm>
<para>contains routines for generating unique
identifiers for objects that may be accessible beyond the local system.</para>
</listitem>
</varlistentry>
</variablelist>

</section>

</section>
