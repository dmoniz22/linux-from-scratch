<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE section [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>
<section xmlns="http://docbook.org/docbook-ng"
         xml:id="ch-system-kbd" xreflabel="Kbd" role="wrap">
<title>Kbd-&kbd-version;</title>
<?dbhtml filename="kbd.html"?>

<indexterm zone="ch-system-kbd"><primary sortas="a-Kbd">Kbd</primary></indexterm>

<section role="package"><title/>
<para>The Kbd package contains key-table files and keyboard utilities.</para>

<segmentedlist>
<segtitle>&buildtime;</segtitle>
<segtitle>&diskspace;</segtitle>
<seglistitem><seg>0.1 SBU</seg><seg>12 MB</seg></seglistitem>
</segmentedlist>

<segmentedlist>
<segtitle>Kbd installation depends on</segtitle>
<seglistitem><seg>Bash, Binutils, Bison, Coreutils,
Diffutils, Flex, GCC, Gettext, Glibc, Grep, Gzip, M4, Make, Sed</seg></seglistitem>
</segmentedlist>
</section>

<section role="installation">
<title>Installation of Kbd</title>

<para>Prepare Kbd for compilation:</para>

<screen><userinput>./configure</userinput></screen>

<para>Compile the package:</para>

<screen><userinput>make</userinput></screen>

<para>Now install it:</para>

<screen><userinput>make install</userinput></screen>

</section>

<!-- The "Configuring your keyboard" section has been moved to
Chapter 7 and renamed to "Configuring Linux console" -->

<section xml:id="contents-kbd" role="content"><title>Contents of Kbd</title>

<segmentedlist>
<segtitle>Installed programs</segtitle>
<seglistitem><seg>chvt, deallocvt, dumpkeys,
fgconsole, getkeycodes, getunimap, kbd_mode, kbdrate, loadkeys, loadunimap,
mapscrn, openvt, psfaddtable (link to psfxtable), psfgettable (link to
psfxtable), psfstriptable (link to psfxtable), psfxtable, resizecons,
setfont, setkeycodes, setleds, setlogcons, setmetamode, setvesablank,
showconsolefont, showkey, unicode_start and unicode_stop</seg></seglistitem>
</segmentedlist>

<variablelist><title>Short descriptions</title>

<varlistentry xml:id="chvt">
<term><command>chvt</command></term>
<listitem>
<indexterm zone="ch-system-kbd chvt"><primary sortas="b-chvt">chvt</primary></indexterm>
<para>changes the foreground virtual terminal.</para>
</listitem>
</varlistentry>

<varlistentry xml:id="deallocvt">
<term><command>deallocvt</command></term>
<listitem>
<indexterm zone="ch-system-kbd deallocvt"><primary sortas="b-deallocvt">deallocvt</primary></indexterm>
<para>deallocates unused virtual terminals.</para>
</listitem>
</varlistentry>

<varlistentry xml:id="dumpkeys">
<term><command>dumpkeys</command></term>
<listitem>
<indexterm zone="ch-system-kbd dumpkeys"><primary sortas="b-dumpkeys">dumpkeys</primary></indexterm>
<para>dumps the keyboard translation tables.</para>
</listitem>
</varlistentry>

<varlistentry xml:id="fgconsole">
<term><command>fgconsole</command></term>
<listitem>
<indexterm zone="ch-system-kbd fgconsole"><primary sortas="b-fgconsole">fgconsole</primary></indexterm>
<para>prints the number of the active virtual terminal.</para>
</listitem>
</varlistentry>

<varlistentry xml:id="getkeycodes">
<term><command>getkeycodes</command></term>
<listitem>
<indexterm zone="ch-system-kbd getkeycodes"><primary sortas="b-getkeycodes">getkeycodes</primary></indexterm>
<para>prints the kernel scancode-to-keycode mapping table.</para>
</listitem>
</varlistentry>

<varlistentry xml:id="getunimap">
<term><command>getunimap</command></term>
<listitem>
<indexterm zone="ch-system-kbd getunimap"><primary sortas="b-getunimap">getunimap</primary></indexterm>
<para>prints the currently used unimap.</para>
</listitem>
</varlistentry>

<varlistentry xml:id="kbd_mode">
<term><command>kbd_mode</command></term>
<listitem>
<indexterm zone="ch-system-kbd kbd_mode"><primary sortas="b-kbd_mode">kbd_mode</primary></indexterm>
<para>reports or sets the keyboard mode.</para>
</listitem>
</varlistentry>

<varlistentry xml:id="kbdrate">
<term><command>kbdrate</command></term>
<listitem>
<indexterm zone="ch-system-kbd kbdrate"><primary sortas="b-kbdrate">kbdrate</primary></indexterm>
<para>sets the keyboard repeat and delay rates.</para>
</listitem>
</varlistentry>

<varlistentry xml:id="loadkeys">
<term><command>loadkeys</command></term>
<listitem>
<indexterm zone="ch-system-kbd loadkeys"><primary sortas="b-loadkeys">loadkeys</primary></indexterm>
<para>loads the keyboard translation tables.</para>
</listitem>
</varlistentry>

<varlistentry xml:id="loadunimap">
<term><command>loadunimap</command></term>
<listitem>
<indexterm zone="ch-system-kbd loadunimap"><primary sortas="b-loadunimap">loadunimap</primary></indexterm>
<para>loads the kernel unicode-to-font mapping table.</para>
</listitem>
</varlistentry>

<varlistentry xml:id="mapscrn">
<term><command>mapscrn</command></term>
<listitem>
<indexterm zone="ch-system-kbd mapscrn"><primary sortas="b-mapscrn">mapscrn</primary></indexterm>
<para>is an obsolete program that used to load
a user-defined output character mapping table into the console driver. This is
now done by <command>setfont</command>.</para>
</listitem>
</varlistentry>

<varlistentry xml:id="openvt">
<term><command>openvt</command></term>
<listitem>
<indexterm zone="ch-system-kbd openvt"><primary sortas="b-openvt">openvt</primary></indexterm>
<para>starts a program on a new virtual terminal (VT).</para>
</listitem>
</varlistentry>

<varlistentry xml:id="psf">
<term><command>psf*</command></term>
<listitem>
<indexterm zone="ch-system-kbd psf"><primary sortas="b-psf*">psf*</primary></indexterm>
<para>are a set of tools for handling Unicode character tables for console fonts.</para>
</listitem>
</varlistentry>

<varlistentry xml:id="resizecons">
<term><command>resizecons</command></term>
<listitem>
<indexterm zone="ch-system-kbd resizecons"><primary sortas="b-resizecons">resizecons</primary></indexterm>
<para>changes the kernel idea of the console size.</para>
</listitem>
</varlistentry>

<varlistentry xml:id="setfont">
<term><command>setfont</command></term>
<listitem>
<indexterm zone="ch-system-kbd setfont"><primary sortas="b-setfont">setfont</primary></indexterm>
<para>lets you change the EGA/VGA fonts on the console.</para>
</listitem>
</varlistentry>

<varlistentry xml:id="setkeycodes">
<term><command>setkeycodes</command></term>
<listitem>
<indexterm zone="ch-system-kbd setkeycodes"><primary sortas="b-setkeycodes">setkeycodes</primary></indexterm>
<para>loads kernel scancode-to-keycode
mapping table entries, useful if you have some unusual keys on your keyboard.</para>
</listitem>
</varlistentry>

<varlistentry xml:id="setleds">
<term><command>setleds</command></term>
<listitem>
<indexterm zone="ch-system-kbd setleds"><primary sortas="b-setleds">setleds</primary></indexterm>
<para>sets the keyboard flags and LEDs. Many
people find it useful to have <quote>Num Lock</quote> on by default, <command>setleds +num</command> achieves this.</para>
</listitem>
</varlistentry>

<varlistentry xml:id="setlogcons">
<term><command>setlogcons</command></term>
<listitem>
<indexterm zone="ch-system-kbd setlogcons"><primary sortas="b-setlogcons">setlogcons</primary></indexterm>
<para>sends kernel messages to the console.</para>
</listitem>
</varlistentry>

<varlistentry xml:id="setmetamode">
<term><command>setmetamode</command></term>
<listitem>
<indexterm zone="ch-system-kbd setmetamode"><primary sortas="b-setmetamode">setmetamode</primary></indexterm>
<para>defines the keyboard meta-key handling.</para>
</listitem>
</varlistentry>

<varlistentry xml:id="setvesablank">
<term><command>setvesablank</command></term>
<listitem>
<indexterm zone="ch-system-kbd setvesablank"><primary sortas="b-setvesablank">setvesablank</primary></indexterm>
<para>lets you fiddle with the built-in
hardware screensaver (no toasters, just a blank screen).</para>
</listitem>
</varlistentry>

<varlistentry xml:id="showconsolefont">
<term><command>showconsolefont</command></term>
<listitem>
<indexterm zone="ch-system-kbd showconsolefont"><primary sortas="b-showconsolefont">showconsolefont</primary></indexterm>
<para>shows the current EGA/VGA console screen font.</para>
</listitem>
</varlistentry>

<varlistentry xml:id="showkey">
<term><command>showkey</command></term>
<listitem>
<indexterm zone="ch-system-kbd showkey"><primary sortas="b-showkey">showkey</primary></indexterm>
<para>reports the scancodes and keycodes and
ASCII codes of the keys pressed on the keyboard.</para>
</listitem>
</varlistentry>

<varlistentry xml:id="unicode_start">
<term><command>unicode_start</command></term>
<listitem>
<indexterm zone="ch-system-kbd unicode_start"><primary sortas="b-unicode_start">unicode_start</primary></indexterm>
<para>puts the keyboard and console in UNICODE mode. Never use it on LFS, 
because applications are not configured to support UNICODE.</para>
</listitem>
</varlistentry>

<varlistentry xml:id="unicode_stop">
<term><command>unicode_stop</command></term>
<listitem>
<indexterm zone="ch-system-kbd unicode_stop"><primary sortas="b-unicode_stop">unicode_stop</primary></indexterm>
<para>reverts keyboard and console from UNICODE mode.</para>
</listitem>
</varlistentry>
</variablelist>

</section>

</section>
