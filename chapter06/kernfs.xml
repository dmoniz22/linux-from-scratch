<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE section [
]>
<section xmlns="http://docbook.org/docbook-ng"
         xml:id="ch-system-kernfs">
<info><title>Mounting virtual kernel file systems</title></info>
<?dbhtml filename="kernfs.html"?>

<para>Various file systems exported by the kernel don't exist at all on your
hard drive, but are used to communicate things to and from the kernel itself.</para>

<para>Begin by creating directories onto which the file systems will be mounted:</para>

<screen><userinput>mkdir -p $LFS/{proc,sys}</userinput></screen>

<para>Now mount the file systems:</para>

<screen><userinput>mount -t proc proc $LFS/proc
mount -t sysfs sysfs $LFS/sys</userinput></screen>

<para>Remember that if for any reason you stop working on your LFS, and start
again later, it's important to check that these file systems are mounted again
before entering the chroot environment, otherwise problems could occur.</para>

<para>Shortly, we'll be mounting a few more file systems from within the chroot
environment. To keep the host up-to-date, we'll do a <quote>fake mount</quote>
for each of these now:</para>

<screen><userinput>mount -f -t ramfs ramfs $LFS/dev
mount -f -t tmpfs tmpfs $LFS/dev/shm
mount -f -t devpts -o gid=4,mode=620 devpts $LFS/dev/pts</userinput></screen>

</section>
