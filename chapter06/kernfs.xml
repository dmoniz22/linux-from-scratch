<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN" "http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>
<sect1 id="ch-system-kernfs">
<title>Mounting Virtual Kernel File Systems</title>
<?dbhtml filename="kernfs.html"?>

<para>Various file systems exported by the kernel do not exist on the
hard drive, but are used to communicate to and from the kernel
itself.</para>

<para>Begin by creating directories onto which the file systems will be mounted:</para>

<screen arch="x86"><userinput>mkdir -p $LFS/{proc,sys}</userinput></screen>

<screen arch="raq2"><userinput>mkdir -p $LFS/{proc,sys,dev/{shm,pts}}</userinput></screen>

<para>Now mount the file systems:</para>

<screen><userinput>mount -t proc proc $LFS/proc
mount -t sysfs sysfs $LFS/sys</userinput></screen>

<para>Remember that if for any reason you stop working on the LFS
system and start again later, it is important to check that these file
systems are mounted again before entering the chroot
environment.</para>

<para>Additional file systems will soon be mounted from within the
chroot environment. To keep the host up to date, perform a <quote>fake
mount</quote> for each of these now:</para>

<screen><userinput>mount -f -t ramfs ramfs $LFS/dev
mount -f -t tmpfs tmpfs $LFS/dev/shm
mount -f -t devpts -o gid=4,mode=620 devpts $LFS/dev/pts</userinput></screen>

</sect1>

