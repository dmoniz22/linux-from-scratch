<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN" "http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>
<sect1 id="ch-tools-bash" role="wrap">
<title>Bash-&bash-version;</title>
<?dbhtml filename="bash.html"?>

<indexterm zone="ch-tools-bash">
<primary sortas="a-Bash">Bash</primary>
<secondary>tools</secondary></indexterm>

<sect2 role="package"><title/>
<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="../chapter06/bash.xml" xpointer="xpointer(/sect1/sect2[1]/para[1])"/>

<segmentedlist>
<segtitle>&buildtime;</segtitle>
<segtitle>&diskspace;</segtitle>
<seglistitem><seg>1.2 SBU</seg><seg>27 MB</seg></seglistitem>
</segmentedlist>

<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="../chapter06/bash.xml" xpointer="xpointer(/sect1/sect2[1]/segmentedlist[2])"/>

</sect2>

<sect2 role="installation">
<title>Installation of Bash</title>

<!-- Edit Me -->
<para>Bash has a problem when compiled against newer versions of Glibc, causing
it to hang inappropriately.  This patch fixes the problem:</para>

<screen><userinput>patch -Np1 -i ../bash-&bash-version;-avoid_WCONTINUED-1.patch</userinput></screen>

<para>Prepare Bash for compilation:</para>

<screen><userinput>./configure --prefix=/tools --without-bash-malloc</userinput></screen>

<para>The meaning of the configure option:</para>

<variablelist>
<varlistentry>
<term><parameter>--without-bash-malloc</parameter></term>
<listitem><para>This options turns off the use of Bash's memory
allocation (malloc) function which is known to cause segmentation
faults. By turning this option off, Bash will use the malloc functions
from Glibc which are more stable.</para></listitem>
</varlistentry>
</variablelist>

<para>Compile the package:</para>

<screen><userinput>make</userinput></screen>

<para>To test the results, issue: <userinput>make
tests</userinput>.</para>

<para>Install the package:</para>

<screen><userinput>make install</userinput></screen>

<para>Make a link for the programs that use <command>sh</command> for
a shell:</para>

<screen><userinput>ln -s bash /tools/bin/sh</userinput></screen>

</sect2>

<sect2 role="content"><title/>
<para>Details on this package are located in <xref linkend="contents-bash" role="."/></para>
</sect2>

</sect1>

