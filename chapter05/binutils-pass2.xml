<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN"
  "http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>

<sect1 id="ch-tools-binutils-pass2">
  <?dbhtml filename="binutils-pass2.html"?>

  <title>Binutils-&binutils-version; - Fase 2</title>

  <indexterm zone="ch-tools-binutils-pass2">
    <primary sortas="a-Binutils">Binutils</primary>
    <secondary>herramientas, fase 2</secondary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <xi:include xmlns:xi="http://www.w3.org/2003/XInclude"
    href="../chapter06/binutils.xml"
    xpointer="xpointer(/sect1/sect2[1]/para[1])"/>

    <segmentedlist>
      <segtitle>&buildtime;</segtitle>
      <segtitle>&diskspace;</segtitle>

      <seglistitem>
        <seg>1.5 SBU</seg>
        <seg>114 MB</seg>
      </seglistitem>
    </segmentedlist>

    <xi:include xmlns:xi="http://www.w3.org/2003/XInclude"
    href="../chapter06/binutils.xml"
    xpointer="xpointer(/sect1/sect2[1]/segmentedlist[2])"/>

  </sect2>

  <sect2 role="installation">
    <title>Reinstalación de Binutils</title>

    <para>Vuelve a crear un directorio dedicado para la construcción:</para>

<screen><userinput>mkdir -v ../binutils-build
cd ../binutils-build</userinput></screen>

    <para>Prepara Binutils para su compilación:</para>

<screen><userinput>../binutils-&binutils-version;/configure --prefix=/tools \
    --disable-nls --enable-shared --with-lib-path=/tools/lib</userinput></screen>

    <variablelist>
      <title>Significado de la nueva opción de configure:</title>

      <varlistentry>
        <term><parameter>--with-lib-path=/tools/lib</parameter></term>
        <listitem>
          <para>Esto le indica al guión configure que especifique la ruta
          de búsqueda de librerías por defecto durante la compilación de
          Binutils, resultando en que se le pase <filename
          class="directory">/tools/lib</filename> al enlazador. Esto evita
          que el enlazador busque en los directorios de librerías del
          anfitrión.</para>
        </listitem>
      </varlistentry>

    </variablelist>

    <para>Compila el paquete:</para>

<screen><userinput>make</userinput></screen>

    <para>La compilación está completa. Como se explicó antes, no recomendamos
    ejecutar los bancos de pruebas de las herramientas temporales en este
    capítulo. Si de todas formas deseas ejecutar el banco de pruebas de Binutils,
    hazlo con el siguiente comando:</para>

<screen><userinput>make check</userinput></screen>

    <para>Instala el paquete:</para>

<screen><userinput>make install</userinput></screen>

    <para>Prepara el enlazador para la fase de <quote>Reajuste</quote> del
    próximo capítulo:</para>

<screen><userinput>make -C ld clean
make -C ld LIB_PATH=/usr/lib:/lib</userinput></screen>

    <warning>
      <para><emphasis>No borres</emphasis> todavía los directorios de
      fuentes y de construcción de Binutils. Se necesitarán durante el
      siguiente capítulo en el estado en que se encuentran ahora.</para>
    </warning>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Los detalles sobre este paquete se encuentran en la
    <xref linkend="contents-binutils"/>.</para>

  </sect2>

</sect1>
