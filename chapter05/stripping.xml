<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE section [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>
<section xmlns="http://docbook.org/docbook-ng"
         xml:id="ch-tools-stripping">
<title>Stripping</title>
<?dbhtml filename="stripping.html"?>

<para>The steps in this section are optional, but if your LFS partition is
rather small, you will be glad to learn that you can remove some unnecessary
things. The executables and libraries you have built so far contain about 130
MB of unneeded debugging symbols. Remove those symbols with:</para>

<screen><userinput>strip --strip-debug /tools/lib/*
strip --strip-unneeded /tools/{,s}bin/*</userinput></screen>

<para>The last of the above commands will skip some twenty files, reporting
that it doesn't recognize their file format. Most of them are scripts instead
of binaries.</para>

<para>Take care <emphasis>not</emphasis> to use
<parameter>--strip-unneeded</parameter> on the libraries -- the static ones
would be destroyed and you would have to build the three toolchain packages
all over again.</para>

<para>To save another 30 MB, you can remove all the documentation:</para>

<screen><userinput>rm -rf /tools/{doc,info,man}</userinput></screen>

<para>You will now need to have at least 850 MB of free space on your LFS
file system to be able to build and install Glibc in the next phase. If you can
build and install Glibc, you can build and install the rest too.</para>

</section>
